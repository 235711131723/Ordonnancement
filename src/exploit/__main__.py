#!/usr/bin/env python3

import argparse
from exploit.task import Task
from exploit.instruction import Assign, Add, Sub
from exploit.system import System
from exploit.variable import Variable

def parse_args():
    parser = argparse.ArgumentParser()
    args = parser.parse_args()
    return args

def main():
    args = parse_args()

    t1 = Task(instructions=[
        Assign('x', 10),
        Assign('y', 22),
    ])

    t2 = Task(instructions=[
        Assign('z', 40)
    ])

    t3 = Task(instructions=[
        Assign('x', 40)
    ], dependencies={t1, t2})

    s = System(tasks=Task.Tasks)
    print(s.get_root_tasks())

if __name__ == '__main__':
    main()